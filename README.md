# Онлайн-библиотека
Онлайн-библиотека книг жанра фантастики, созданная в учебных целях, 
на основе парсинга сайта [tululu.org](https://tululu.org/l55/).  

<a href="https://ibb.co/1Gzb8T2"><img src="https://i.ibb.co/nMPRzjk/3.png" alt="3" border="0"></a>

### Использование на локальном компьютере

1. Необходимо [скачать](https://github.com/Araime/Online-library/archive/master.zip) 
репозиторий и распаковать его. 
1. В репозитории открыть папку `pages` и запустить файл `index1.html`.
1. Вверху открывшегося сайта есть панель навигации по страницам.
1. Нажать кнопку `Читать` на выбранной книге. Книга откроется новой страницей браузера.

[Онлайн-версия библиотеки](https://araime.github.io/Online-library/pages/index1.html).

### Сборка библиотеки

Python3 должен быть уже установлен. Скачать этот репозиторий себе на компьютер.

Рекомендуется использовать [virtualenv/venv](https://docs.python.org/3/library/venv.html)
для изоляции проекта.

#### Быстрая настройка venv

Начиная с Python версии 3.3 виртуальное окружение идёт в комплекте в виде модуля
venv. Чтобы его установить и активировать нужно выполнить следующие действия в
командной строке:  

Указать скачанный репозиторий в качестве каталога.
```sh
cd C:\Users\ваш_пользователь\Downloads\папка_репозитория
```
Установить виртуальное окружение в выбранном каталоге.
```sh
Python -m venv env
```
В репозитории появится папка виртуального окружения env  

<a href="https://imgbb.com/"><img src="https://i.ibb.co/Hn4C6PD/image.png" alt="image" border="0"></a>

Активировать виртуальное окружение.
```sh
env\scripts\activate
```
Если всё сделано правильно, вы увидите в командной строке (env) слева от пути 
каталога.  

<a href="https://imgbb.com/"><img src="https://i.ibb.co/MZ72r22/2.png" alt="2" border="0"></a>

#### Установление зависимостей

Используйте `pip` (или `pip3`, есть конфликт с Python2) для установки 
зависимостей:

```sh
pip install -r requirements.txt
```

#### Скачивание книг

1. Скачать [репозиторий](https://github.com/Araime/online-library-parsing-2) с парсером
книг.
1. Установить и настроить его согласно инструкции
1. Скачать нужное количество книг.
1. Содержимое папок `books`, `images`, `json` из репозитория с парсером скачать в
данный репозиторий.
   
#### Создание страниц сайта

Необходимо запустить скрипт:
```sh
python render_website.py
```
При запуске скрипт открывает файл books_description.json в папке `json`. Из него 
он получает информацию о книге: название, автор, путь к обложке, путь к книге, к 
какому жанру относится книга.  
Создаёт новые страницы `index{номер}.html`(не более 20 книг на страницу), добавляет
информацию о книге, делает в ней ссылки на книги и обложки из папок `books` и 
`images` и кладёт готовые страницы в папку `pages`.

Можно остановить скрипт `Ctrl + C`.

Новые страницы сгенерированы и могут использоваться на локальном компьютере.

### Цель проекта
Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org).